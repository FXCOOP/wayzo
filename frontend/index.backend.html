<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wayzo — Plan unforgettable trips in minutes</title>
  <meta name="description" content="Personalized itineraries by budget and style. Flights, stays, and activities—ready to book." />

  <!-- Preload local heroes (no UI change) -->
  <link rel="preload" as="image" href="/docs/hero-road.jpg">
  <link rel="preload" as="image" href="/docs/hero-mountains.jpg">

  <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="style.css?v=1" />
</head>
<body>
  <header class="topbar">
    <div class="wrap">
      <div class="brand">
        <span class="badge">WZ</span>
        <span class="name">Wayzo</span>
      </div>
      <a class="cta" href="#" id="startPlanning">Start planning</a>
    </div>
  </header>

  <main class="wrap hero">
    <h1>Plan unforgettable trips in minutes — <span class="accent">AI-powered</span></h1>
    <p class="sub">Personalized itineraries by budget and style. Flights, stays, and activities—ready to book.</p>

    <section class="grid">
      <div class="card">
        <h2>Trip details</h2>
        <p class="muted">We’ll tailor routes, hotels, activities, and meals—then generate your full AI plan.</p>

        <form id="tripForm" class="form" onsubmit="return false;">
          <label>
            <span>Destination</span>
            <input id="destination" type="text" placeholder="e.g., Berlin, Tokyo, Bali" required />
          </label>

          <div class="cols">
            <label><span>Start date</span><input id="start" type="date" /></label>
            <label><span>End date</span><input id="end" type="date" /></label>
          </div>

          <div class="cols">
            <label><span>Budget (USD)</span><input id="budget" type="number" min="0" placeholder="1500" /></label>
            <label><span>Travelers</span><input id="travelers" type="number" min="1" value="2" /></label>
          </div>

          <div class="fieldset">
            <span class="legend">Style</span>
            <div class="buttons">
              <label class="chip"><input type="radio" name="style" value="budget" checked /><span>Budget</span></label>
              <label class="chip"><input type="radio" name="style" value="mid-range" /><span>Mid-range</span></label>
              <label class="chip"><input type="radio" name="style" value="luxury" /><span>Luxury</span></label>
            </div>
          </div>

          <label><span>Preferences</span><input id="prefs" type="text" placeholder="e.g., museums, beaches, hiking, kid-friendly" /></label>

          <div class="actions">
            <button id="btnPreview" type="button" class="btn">Generate preview</button>
            <button id="btnPlan" type="button" class="btn primary">Generate full plan (AI)</button>
            <button id="btnSave" type="button" class="btn ghost">Save preview</button>
          </div>

          <p class="terms">By continuing you agree to our <a href="#">Terms</a> and <a href="#">Privacy</a>.</p>
        </form>
      </div>

      <div class="card">
        <h2>Your itinerary <span class="badge small">AI powered</span></h2>

        <div class="pills">
          <span class="pill">✈ Flights</span>
          <span class="pill">🏨 Hotels</span>
          <span class="pill">🎟 Activities</span>
          <span class="pill">🚗 Cars</span>
          <span class="pill">🛡 Insurance</span>
          <span class="pill">⭐ Reviews</span>
        </div>

        <div id="itinerary" class="itinerary">
          <p class="muted">Fill the form and click <strong>Generate preview</strong>. Then use <strong>Generate full plan (AI)</strong>.</p>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Minimal client so the buttons work with the stubs
    const $ = (s) => document.querySelector(s);
    $('#btnPreview').addEventListener('click', async () => {
      const body = collect();
      const r = await fetch('/api/preview', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body) });
      const data = await r.json();
      $('#itinerary').innerHTML = `<h3>${data.preview.tagline}</h3><p>${data.preview.quickTake}</p><ul>${data.preview.highlights.map(x=>`<li>${x}</li>`).join('')}</ul>`;
    });
    $('#btnPlan').addEventListener('click', async () => {
      const body = collect();
      const r = await fetch('/api/plan', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body) });
      const data = await r.json();
      $('#itinerary').innerHTML = `<h3>${data.plan.destination}</h3><pre style="white-space:pre-wrap">${data.reportMarkdown}</pre>`;
    });
    function collect(){
      return {
        destination: $('#destination').value.trim(),
        start: $('#start').value, end: $('#end').value,
        budget: $('#budget').value, travelers: $('#travelers').value,
        style: document.querySelector('input[name="style"]:checked')?.value || 'budget',
        prefs: $('#prefs').value
      };
    }
  </script>
</body>
</html>
